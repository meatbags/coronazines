var GHOSTS =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/app.js":
/*!*******************!*\
  !*** ./js/app.js ***!
  \*******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/navigation */ \"./js/modules/navigation.js\");\n/* harmony import */ var _modules_zine_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/zine_handler */ \"./js/modules/zine_handler.js\");\n/* harmony import */ var _modules_form_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/form_handler */ \"./js/modules/form_handler.js\");\n/* harmony import */ var _modules_loading_screen__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/loading_screen */ \"./js/modules/loading_screen.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** App */\n\n\n\n\n\nvar App = /*#__PURE__*/function () {\n  function App() {\n    var _this = this;\n\n    _classCallCheck(this, App);\n\n    this.modules = {\n      navigation: new _modules_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"](),\n      zineHandler: new _modules_zine_handler__WEBPACK_IMPORTED_MODULE_1__[\"default\"](),\n      formHandler: new _modules_form_handler__WEBPACK_IMPORTED_MODULE_2__[\"default\"](),\n      loadingScreen: new _modules_loading_screen__WEBPACK_IMPORTED_MODULE_3__[\"default\"]()\n    }; // bind\n\n    for (var key in this.modules) {\n      if (typeof this.modules[key].bind === 'function') {\n        this.modules[key].bind(this);\n      }\n    } // resize\n\n\n    this.resize(); // bind events\n\n    window.addEventListener('resize', function () {\n      _this.resize();\n    });\n    window.addEventListener('orientationchange', function () {\n      setTimeout(function () {\n        _this.resize();\n      }, 250);\n    });\n  }\n\n  _createClass(App, [{\n    key: \"resize\",\n    value: function resize() {\n      for (var key in this.modules) {\n        if (typeof this.modules[key].resize === 'function') {\n          this.modules[key].resize();\n        }\n      }\n    }\n  }]);\n\n  return App;\n}();\n\nwindow.addEventListener('load', function () {\n  var app = new App();\n});\n\n//# sourceURL=webpack://GHOSTS/./js/app.js?");

/***/ }),

/***/ "./js/modules/form_handler.js":
/*!************************************!*\
  !*** ./js/modules/form_handler.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _util_alert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/alert */ \"./js/util/alert.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** Form handler */\n\n\nvar FormHandler = /*#__PURE__*/function () {\n  function FormHandler() {\n    _classCallCheck(this, FormHandler);\n  }\n\n  _createClass(FormHandler, [{\n    key: \"bind\",\n    value: function bind(root) {\n      var _this = this;\n\n      document.querySelectorAll('form').forEach(function (form) {\n        form.onsubmit = function (evt) {\n          evt.preventDefault();\n\n          _this.submit(form);\n        };\n      });\n    }\n  }, {\n    key: \"submit\",\n    value: function submit(form) {\n      var msg = form.dataset.msg || form.action;\n      console.log('[FormHandler]', form.action);\n      var alert = new _util_alert__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        msg: msg,\n        domTarget: form\n      });\n      var formData = new FormData(form);\n      fetch(form.action, {\n        method: 'POST',\n        body: formData\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        console.log(json);\n\n        if (json.res === 'SUCCESS') {\n          var _alert = new _util_alert__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            msg: json.msg,\n            domTarget: form\n          });\n        } else if (json.res === 'ERROR') {\n          var _alert2 = new _util_alert__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            msg: json.msg,\n            domTarget: form\n          });\n        } else if (json.res === 'REDIRECT') {\n          var url = json.data;\n          window.location = url;\n        }\n      });\n    }\n  }]);\n\n  return FormHandler;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FormHandler);\n\n//# sourceURL=webpack://GHOSTS/./js/modules/form_handler.js?");

/***/ }),

/***/ "./js/modules/loading_screen.js":
/*!**************************************!*\
  !*** ./js/modules/loading_screen.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** Loading screen */\nvar LoadingScreen = /*#__PURE__*/function () {\n  function LoadingScreen() {\n    _classCallCheck(this, LoadingScreen);\n\n    this.active = true;\n  }\n\n  _createClass(LoadingScreen, [{\n    key: \"bind\",\n    value: function bind(root) {\n      this.el = document.querySelector('#loading-screen-target');\n      this.hide();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.active) {\n        this.active = true;\n        this.el.classList.remove('hidden');\n        this.el.classList.add('animated');\n        this.el.classList.add('active');\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this = this;\n\n      if (this.active) {\n        this.active = false;\n        setTimeout(function () {\n          _this.el.classList.remove('active');\n\n          setTimeout(function () {\n            _this.el.classList.remove('animated');\n\n            _this.el.classList.add('hidden');\n          }, 500);\n        }, 500);\n      }\n    }\n  }]);\n\n  return LoadingScreen;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LoadingScreen);\n\n//# sourceURL=webpack://GHOSTS/./js/modules/loading_screen.js?");

/***/ }),

/***/ "./js/modules/navigation.js":
/*!**********************************!*\
  !*** ./js/modules/navigation.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _util_get_contained_rect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/get_contained_rect */ \"./js/util/get_contained_rect.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** Navigation */\n\n\nvar Navigation = /*#__PURE__*/function () {\n  function Navigation() {\n    _classCallCheck(this, Navigation);\n  }\n\n  _createClass(Navigation, [{\n    key: \"bind\",\n    value: function bind(root) {\n      var _this = this;\n\n      this.ref = {};\n      this.ref.zineHandler = root.modules.zineHandler; // bind views\n\n      document.querySelectorAll('[data-view]').forEach(function (el) {\n        el.addEventListener('click', function () {\n          _this.openView(el.dataset.view);\n        });\n      }); // bind zine list\n\n      document.querySelectorAll('[data-zine]').forEach(function (el) {\n        el.addEventListener('click', function () {\n          _this.openZine(el.dataset.zine);\n        });\n      }); // load zine from window\n\n      var search = new URLSearchParams(window.location.search);\n\n      if (search.has('ref')) {\n        var ref = search.get('ref');\n      }\n    }\n  }, {\n    key: \"openView\",\n    value: function openView(selector) {\n      var target = document.querySelector(selector);\n      document.querySelectorAll('.view.active').forEach(function (el) {\n        el.classList.remove('active');\n      });\n\n      if (target) {\n        target.classList.add('active');\n      }\n    }\n  }, {\n    key: \"openZine\",\n    value: function openZine(ref) {\n      this.ref.zineHandler.openZine(ref);\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      document.querySelectorAll('.placeholder').forEach(function (p) {\n        var parent = p.parentNode.getBoundingClientRect();\n        var child = {\n          width: 1,\n          height: 1.414\n        };\n        var rect = Object(_util_get_contained_rect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(child, parent);\n        p.style.width = \"\".concat(rect.width, \"px\");\n        p.style.height = \"\".concat(rect.height, \"px\");\n      });\n    }\n  }]);\n\n  return Navigation;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Navigation);\n\n//# sourceURL=webpack://GHOSTS/./js/modules/navigation.js?");

/***/ }),

/***/ "./js/modules/zine.js":
/*!****************************!*\
  !*** ./js/modules/zine.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _util_create_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/create_element */ \"./js/util/create_element.js\");\n/* harmony import */ var _util_get_contained_rect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/get_contained_rect */ \"./js/util/get_contained_rect.js\");\n/* harmony import */ var _util_clamp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/clamp */ \"./js/util/clamp.js\");\n/* harmony import */ var _zine_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./zine_page */ \"./js/modules/zine_page.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** Zine */\n\n\n\n\n\nvar Zine = /*#__PURE__*/function () {\n  function Zine(params) {\n    _classCallCheck(this, Zine);\n\n    this.data = {\n      zine_ref: params.data.zine_ref,\n      zine_title: params.data.zine_title,\n      zine_author: params.data.zine_author,\n      zine_description: params.data.zine_description,\n      zine_content: params.data.zine_content\n    };\n    this.domTarget = params.domTarget;\n    console.log(this.data); // init\n\n    this.index = 0;\n    this.pageContent = this.data.zine_content.split(';').map(function (src) {\n      return src === '' ? '' : \"<img src='\".concat(src, \"'>\");\n    });\n    this.pages = [];\n    this.width = 0;\n    this.height = 0;\n    this.render();\n  }\n\n  _createClass(Zine, [{\n    key: \"show\",\n    value: function show() {\n      this.el.classList.add('active');\n      this.resize();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.el.classList.remove('active');\n    }\n  }, {\n    key: \"prevPage\",\n    value: function prevPage() {\n      this.goToIndex(this.index - 1);\n    }\n  }, {\n    key: \"nextPage\",\n    value: function nextPage() {\n      this.goToIndex(this.index + 1);\n    }\n  }, {\n    key: \"goToIndex\",\n    value: function goToIndex(index) {\n      this.index = Object(_util_clamp__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(index, 0, this.pages.length); // flip pages, set z-index\n\n      var flipped = 0;\n      this.pages.forEach(function (p) {\n        p.flip(index);\n        flipped += p.isFlipped() ? 1 : 0;\n      }); // set flags\n\n      this.el.dataset.index = this.index;\n      this.el.dataset.position = flipped == 0 ? 'first' : flipped == this.pages.length ? 'last' : null; // log\n\n      console.log('[Zine] index:', this.index);\n    }\n  }, {\n    key: \"addPage\",\n    value: function addPage(content) {\n      var index = this.pages.length;\n      var p = index == 0 ? null : this.pages[index - 1]; // create new page\n\n      if (p == null || p.isFull()) {\n        var _p = new _zine_page__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n          root: this,\n          domTarget: this.el.querySelector('.zine__page-list'),\n          index: index\n        });\n\n        _p.setFront(content);\n\n        this.pages.push(_p); // add to existing page\n      } else {\n        p.setBack(content);\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var parent = this.el.getBoundingClientRect();\n\n      if (parent.width && parent.height) {\n        var ratio = {\n          width: 1.414,\n          height: 1\n        };\n        var rect = Object(_util_get_contained_rect__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ratio, parent);\n        var target = this.el.querySelector('.zine__inner');\n        var scale = 0.6; //this.width = Math.round((rect.width / 2) * scale);\n        //this.height = Math.round((rect.height) * scale);\n\n        this.width = rect.width / 2 * scale;\n        this.height = rect.height * scale;\n        target.style.width = \"\".concat(this.width, \"px\");\n        target.style.height = \"\".concat(this.height, \"px\");\n      }\n    }\n  }, {\n    key: \"getRef\",\n    value: function getRef() {\n      return this.data.zine_ref;\n    }\n  }, {\n    key: \"getSize\",\n    value: function getSize() {\n      return {\n        width: this.width,\n        height: this.height\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      if (!this.el) {\n        this.el = Object(_util_create_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n          class: 'zine',\n          dataset: {\n            index: 0\n          },\n          childNodes: [{\n            class: 'zine__inner',\n            childNodes: [{\n              class: 'zine__page-list'\n            }, {\n              class: 'zine__controls',\n              childNodes: [{\n                class: 'zine__prev',\n                innerHTML: '<div></div>',\n                addEventListener: {\n                  click: function click() {\n                    _this.prevPage();\n                  }\n                }\n              }, {\n                class: 'zine__next',\n                innerHTML: '<div></div>',\n                addEventListener: {\n                  click: function click() {\n                    _this.nextPage();\n                  }\n                }\n              }]\n            }]\n          }]\n        }); // add pages\n\n        this.pageContent.forEach(function (content) {\n          _this.addPage(content);\n        });\n        this.domTarget.appendChild(this.el);\n        this.goToIndex(this.index); // resize\n\n        setTimeout(function () {\n          _this.resize();\n        }, 150);\n      }\n    }\n  }]);\n\n  return Zine;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Zine);\n\n//# sourceURL=webpack://GHOSTS/./js/modules/zine.js?");

/***/ }),

/***/ "./js/modules/zine_handler.js":
/*!************************************!*\
  !*** ./js/modules/zine_handler.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _zine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./zine */ \"./js/modules/zine.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** Zine manager */\n\n\nvar ZineHandler = /*#__PURE__*/function () {\n  function ZineHandler() {\n    _classCallCheck(this, ZineHandler);\n\n    this.zines = []; // get embedded zine\n\n    var el = document.querySelector('#zine-data-target');\n\n    if (el) {\n      try {\n        var data = JSON.parse(el.innerHTML);\n        this.addZine(data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }\n\n  _createClass(ZineHandler, [{\n    key: \"resize\",\n    value: function resize() {\n      this.zines.forEach(function (zine) {\n        zine.resize();\n      });\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(root) {\n      this.ref = {};\n      this.ref.navigation = root.modules.navigation;\n    }\n  }, {\n    key: \"addZine\",\n    value: function addZine(data) {\n      var zine = new _zine__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        data: data,\n        domTarget: document.querySelector('#zine-target')\n      });\n      this.zines.push(zine);\n      zine.show();\n    }\n  }, {\n    key: \"openZine\",\n    value: function openZine(ref) {\n      var _this = this;\n\n      // hide zines\n      this.zines.forEach(function (zine) {\n        zine.hide();\n      }); // show zine if loaded\n\n      var zine = this.zines.find(function (z) {\n        return z.getRef() === ref;\n      });\n\n      if (zine) {\n        zine.show(); // request zine data\n      } else {\n        console.log('[Navigation] fetching zine:', ref); // form\n\n        var formData = new FormData();\n        formData.append('ref', ref); // get zine\n\n        fetch('inc/action-get-zine.php', {\n          method: 'POST',\n          body: formData\n        }).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          if (json.res === 'SUCCESS') {\n            if (json.data !== null) {\n              _this.addZine(json.data);\n            }\n          } else {\n            console.log(json);\n          }\n        });\n      }\n    }\n  }]);\n\n  return ZineHandler;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ZineHandler);\n\n//# sourceURL=webpack://GHOSTS/./js/modules/zine_handler.js?");

/***/ }),

/***/ "./js/modules/zine_page.js":
/*!*********************************!*\
  !*** ./js/modules/zine_page.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _util_create_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/create_element */ \"./js/util/create_element.js\");\n/* harmony import */ var _util_clamp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/clamp */ \"./js/util/clamp.js\");\n/* harmony import */ var _util_is_mobile_device__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/is_mobile_device */ \"./js/util/is_mobile_device.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** Page */\n\n\n\n\nvar ZinePage = /*#__PURE__*/function () {\n  function ZinePage(params) {\n    _classCallCheck(this, ZinePage);\n\n    this.root = params.root;\n    this.index = params.index;\n    this.domTarget = params.domTarget;\n    this.front = null;\n    this.back = null;\n    this.flipped = false;\n    this.full = false;\n    this.isMobile = Object(_util_is_mobile_device__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    this.mouse = {\n      active: false,\n      origin: {\n        x: 0,\n        y: 0\n      },\n      delta: {\n        x: 0,\n        y: 0\n      },\n      flipThreshold: 0.25\n    };\n    this.rotation = 0;\n    this.render();\n  }\n\n  _createClass(ZinePage, [{\n    key: \"setFront\",\n    value: function setFront(html) {\n      this.front = this.front == null ? this.el.querySelector('.zine-page__front') : this.front;\n      this.front.innerHTML = html;\n      this.full = this.front && this.back;\n    }\n  }, {\n    key: \"setBack\",\n    value: function setBack(html) {\n      this.back = this.back == null ? this.el.querySelector('.zine-page__back') : this.back;\n      this.back.innerHTML = html;\n      this.full = this.front && this.back;\n    }\n  }, {\n    key: \"flip\",\n    value: function flip(index) {\n      // enable transition, disable pointer\n      this.el.classList.remove('disable-transition'); // forward\n\n      if (this.index < index) {\n        if (this.el.classList.contains('flipped') === false) {\n          this.el.style.zIndex = this.root.pages.length;\n          this.el.classList.add('flipped');\n        } else {\n          this.el.style.zIndex = this.index;\n        }\n\n        this.flipped = true; // back\n      } else {\n        if (this.el.classList.contains('flipped')) {\n          this.el.style.zIndex = this.root.pages.length;\n          this.el.classList.remove('flipped');\n        } else {\n          this.el.style.zIndex = this.root.pages.length - this.index;\n        }\n\n        this.flipped = false;\n      } // set active/ visible pages\n\n\n      this.el.classList.remove('active');\n      this.el.classList.remove('visible');\n\n      if (this.index >= index - 1 && this.index <= index) {\n        this.el.classList.add('active');\n      } else if (this.index >= index - 2 && this.index <= index + 1) {\n        this.el.classList.add('visible');\n      }\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      return this.full;\n    }\n  }, {\n    key: \"isFlipped\",\n    value: function isFlipped() {\n      return this.flipped;\n    }\n  }, {\n    key: \"setRotation\",\n    value: function setRotation(deg) {\n      if (this.flipped) {\n        this.el.style.transform = \"translate3d(0, 0, 0) rotateY(\".concat(deg, \"deg) scale(1.0)\");\n      } else {\n        this.el.style.transform = \"translate3d(-1px, 0, 0) rotateY(\".concat(deg, \"deg) scale(1.0)\");\n      }\n    }\n  }, {\n    key: \"mouseDown\",\n    value: function mouseDown(evt) {\n      this.size = this.root.getSize();\n      this.mouse.active = true;\n      this.mouse.origin.x = this.isMobile ? evt.touches[0].clientX : evt.clientX;\n      this.mouse.origin.y = this.isMobile ? evt.touches[0].clientY : evt.clientY;\n      this.mouse.delta.x = 0;\n      this.mouse.delta.y = 0;\n      this.el.style.zIndex = this.root.pages.length + 1;\n      this.el.classList.add('disable-transition');\n    }\n  }, {\n    key: \"mouseMove\",\n    value: function mouseMove(evt) {\n      if (this.mouse.active) {\n        var x = this.isMobile ? evt.touches[0].clientX : evt.clientX;\n        var y = this.isMobile ? evt.touches[0].clientY : evt.clientY;\n        this.mouse.delta.x = x - this.mouse.origin.x;\n        this.mouse.delta.y = y - this.mouse.origin.y;\n\n        if (this.flipped) {\n          if (this.mouse.delta.x > 0) {\n            var t = Object(_util_clamp__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.mouse.delta.x / this.size.width, 0, 1.5);\n            var rot = -180 + t * 90;\n            this.setRotation(rot);\n          } else {\n            this.setRotation(-180);\n          }\n        } else {\n          if (this.mouse.delta.x < 0) {\n            var _t = Object(_util_clamp__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Math.abs(this.mouse.delta.x / this.size.width), 0, 1.5);\n\n            var _rot = _t * -90;\n\n            this.setRotation(_rot);\n          } else {\n            this.setRotation(0);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"mouseUp\",\n    value: function mouseUp() {\n      if (this.mouse.active) {\n        this.mouse.active = false;\n        this.el.classList.remove('disable-transition');\n        this.el.style.transform = '';\n\n        if (this.flipped) {\n          if (this.mouse.delta.x > 0 && this.mouse.delta.x / this.size.width > this.mouse.flipThreshold) {\n            this.root.prevPage();\n          }\n        } else {\n          if (this.mouse.delta.x < 0 && this.mouse.delta.x / this.size.width < -this.mouse.flipThreshold) {\n            this.root.nextPage();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      if (!this.el) {\n        this.el = Object(_util_create_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n          class: 'zine-page',\n          dataset: {\n            index: this.index\n          },\n          childNodes: [{\n            class: 'zine-page__inner zine-page__front'\n          }, {\n            class: 'zine-page__inner zine-page__back'\n          }]\n        });\n        this.domTarget.appendChild(this.el); // bind events\n\n        this.el.addEventListener(this.isMobile ? 'touchstart' : 'mousedown', function (evt) {\n          _this.mouseDown(evt);\n        });\n        window.addEventListener(this.isMobile ? 'touchmove' : 'mousemove', function (evt) {\n          _this.mouseMove(evt);\n        });\n        window.addEventListener(this.isMobile ? 'touchend' : 'mouseup', function (evt) {\n          _this.mouseUp();\n        });\n      }\n    }\n  }]);\n\n  return ZinePage;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ZinePage);\n\n//# sourceURL=webpack://GHOSTS/./js/modules/zine_page.js?");

/***/ }),

/***/ "./js/util/alert.js":
/*!**************************!*\
  !*** ./js/util/alert.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _create_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create_element */ \"./js/util/create_element.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/** Alert */\n\n\nvar Alert = /*#__PURE__*/function () {\n  function Alert(params) {\n    _classCallCheck(this, Alert);\n\n    this.msg = params.msg || null;\n    this.error = params.error || null;\n    this.domTarget = params.domTarget || null;\n    this.render();\n  }\n\n  _createClass(Alert, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this = this;\n\n      if (this.el.classList.contains('active')) {\n        this.el.classList.remove('active');\n        setTimeout(function () {\n          _this.el.remove();\n        }, 500);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.el) {\n        var classList = 'alert' + (this.error ? ' alert--error' : '');\n        this.el = Object(_create_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n          class: classList,\n          innerHTML: this.msg || this.error\n        }); // remove other alerts\n\n        document.querySelectorAll('.alert.active').forEach(function (el) {\n          el.classList.remove('active');\n        }); // activate\n\n        setTimeout(function () {\n          // set position\n          if (_this2.domTarget) {\n            var rect = _this2.el.getBoundingClientRect();\n\n            var target = _this2.domTarget.getBoundingClientRect();\n\n            var x = target.left;\n            var y = target.top + target.height;\n            _this2.el.style.left = \"\".concat(x, \"px\");\n            _this2.el.style.top = \"\".concat(y, \"px\");\n            _this2.el.style.bottom = 'auto';\n          } // activate\n\n\n          _this2.el.classList.add('active');\n\n          setTimeout(function () {\n            _this2.destroy();\n          }, 2000);\n        }, 30);\n        document.querySelector('body').appendChild(this.el);\n      }\n    }\n  }]);\n\n  return Alert;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Alert);\n\n//# sourceURL=webpack://GHOSTS/./js/util/alert.js?");

/***/ }),

/***/ "./js/util/clamp.js":
/*!**************************!*\
  !*** ./js/util/clamp.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/** Clamp */\nvar Clamp = function Clamp(val, min, max) {\n  return Math.min(max, Math.max(min, val));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Clamp);\n\n//# sourceURL=webpack://GHOSTS/./js/util/clamp.js?");

/***/ }),

/***/ "./js/util/create_element.js":
/*!***********************************!*\
  !*** ./js/util/create_element.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/** Create DOM Element */\nfunction CreateElement(params) {\n  var res = document.createElement(params.type || 'div');\n  Object.keys(params).forEach(function (key) {\n    var type = _typeof(params[key]);\n\n    if (type === 'object') {\n      // append child nodes recursively\n      if (key === 'childNodes') {\n        params[key].forEach(function (child) {\n          var childNode = CreateElement(child);\n          res.appendChild(childNode);\n        });\n      } // style\n      else if (key === 'style') {\n          Object.keys(params[key]).forEach(function (attr) {\n            res.style[attr] = params[key][attr];\n          });\n        } // bind events\n        else if (key === 'eventListeners' || key === 'addEventListener') {\n            Object.keys(params[key]).forEach(function (evt) {\n              res.addEventListener(evt, params[key][evt]);\n            });\n          } // set nested values\n          else {\n              Object.keys(params[key]).forEach(function (subkey) {\n                res[key][subkey] = params[key][subkey];\n              });\n            }\n    } else if (type === 'number' || type === 'string') {\n      // set classes\n      if (key === 'classList' || key === 'class') {\n        params[key].split(' ').forEach(function (c) {\n          res.classList.add(c);\n        });\n      } // set value\n      else {\n          res[key] = params[key];\n        }\n    }\n  });\n  return res;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreateElement);\n\n//# sourceURL=webpack://GHOSTS/./js/util/create_element.js?");

/***/ }),

/***/ "./js/util/get_contained_rect.js":
/*!***************************************!*\
  !*** ./js/util/get_contained_rect.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/** Scale child rect to fit inside parent, preserving ratio */\nvar GetContainedRect = function GetContainedRect(child, parent) {\n  var childRatio = child.width / child.height;\n  var parentRatio = parent.width / parent.height;\n  var portrait = childRatio < parentRatio;\n  var w = portrait ? parent.height * childRatio : parent.width;\n  var h = portrait ? parent.height : parent.width / childRatio;\n  return {\n    width: w,\n    height: h\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GetContainedRect);\n\n//# sourceURL=webpack://GHOSTS/./js/util/get_contained_rect.js?");

/***/ }),

/***/ "./js/util/is_mobile_device.js":
/*!*************************************!*\
  !*** ./js/util/is_mobile_device.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/** Detect mobile device (smartphone/ tablet) */\nvar IsMobileDevice = function IsMobileDevice() {\n  var check = false;\n\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n\n  return check;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (IsMobileDevice);\n\n//# sourceURL=webpack://GHOSTS/./js/util/is_mobile_device.js?");

/***/ })

/******/ });